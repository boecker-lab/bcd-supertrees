buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "eu.appsatori:gradle-fatjar-plugin:0.3"
    }
}
apply plugin: 'java'
apply plugin: 'maven'

version = '0.9-SNAPSHOT'

dependencies {
    compile project(':flipcut.flipcut-core')
    compile project(':flipcut.single-cut-algorithm')
    compile project(':flipcut.beam-search-algorithm')
    compile project(':flipcut.single-cut-CLI')
    compile project(':flipcut.beam-search-CLI')
}



allprojects {

    apply plugin: 'java'
    apply plugin: 'maven'

    group = 'de.unijena.bioinf'

    repositories {
        mavenCentral()
//        mavenLocal()
        maven { url "http://bio.informatik.uni-jena.de/artifactory/repo" }
    }

    dependencies {
        compile 'de.unijena.bioinf:phyloTree-lib.model:0.9.9'
        compile 'de.unijena.bioinf:phyloTree-lib.algorithm:0.9.9'
        compile 'de.unijena.bioinf:core-lib.utils:0.9'


        compile 'com.google.guava:guava:18.0'
        compile 'net.sf.trove4j:trove4j:3.0.3'
        compile 'net.openhft:affinity:3.0'

        testCompile 'de.unijena.bioinf:phyloTree-lib.utils:0.9.9'
        testCompile 'junit:junit:4.12'

    }


}


subprojects {

}

//Core Project specific stuff
project(':flipcut.flipcut-core') {
    version = '0.9-SNAPSHOT'

    dependencies {
    }
}

//single algo Project specific stuff
project(':flipcut.single-cut-algorithm') {
    version = '0.9-SNAPSHOT'

    dependencies {
        compile project(':flipcut.flipcut-core')
        testCompile 'de.unijena.bioinf:gscm-lib:1.0'
    }
}

//singe CLI Project specific stuff
project(':flipcut.single-cut-CLI') {
    apply plugin: "eu.appsatori.fatjar"

    version = '0.8-SNAPSHOT'

    dependencies {
        compile project(':flipcut.single-cut-algorithm')
        compile 'de.unijena.bioinf:gscm-lib:1.0'
        compile 'de.unijena.bioinf:gscm-cli:1.0'
        compile 'de.unijena.bioinf:phyloTree-lib.utils:0.9.9'
        compile 'de.unijena.bioinf:core-lib.cli:0.9'
        compile 'de.unijena.bioinf:phyloTree-lib.cli:0.9.9'
    }

    jar {
        manifest {
            attributes 'Main-Class': 'flipcut.BCDSupertrees'
        }
    }

    fatJar {
        classifier 'fat'
        manifest {
            attributes 'Main-Class': 'flipcut.BCDSupertrees'
        }
        exclude 'META-INF/*.DSA', 'META-INF/*.RSA', 'META-INF/*.SF'
    }
}

//beam algo Project specific stuff
project(':flipcut.beam-search-algorithm') {
    version = '0.8-SNAPSHOT'

    dependencies {
        compile project(':flipcut.single-cut-algorithm')
    }
}

//beam CLI Project specific stuff
project(':flipcut.beam-search-CLI') {
    version = '0.8-SNAPSHOT'
    dependencies {
        compile project(':flipcut.beam-search-algorithm'), project(':flipcut.single-cut-CLI')
    }
}

